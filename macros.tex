\renewcommand{\UrlFont}{\ttfamily\small}

\usepackage{letltxmacro}
% https://tex.stackexchange.com/q/88001/5764
\LetLtxMacro\oldttfamily\ttfamily
\DeclareRobustCommand{\ttfamily}{\oldttfamily\small}

\usepackage{amssymb}
\usepackage{algorithm}
\usepackage{algpseudocode}

%% system name
\newcommand{\tap}{TAP\xspace}

%% fonts

\newcommand{\m}[1]{\mathsf{#1}}
\newcommand{\mi}[1]{\mathit{#1}}
%% math
\newcommand{\bnfdef}{::=}
\newcommand{\bnfalt}{\,|\,}

\newcommand{\rulename}[1]{\textsc{#1}}

\newcommand{\eventp}{\mi{ev}}
\newcommand{\event}{\m{ev}}
\newcommand{\evname}{\mi{ev}}
\newcommand{\all}{\m{A}}
\newcommand{\exist}{\m{E}}
\newcommand{\until}{\mathrel{\m{U}}}

\newcommand{\stepsto}{\longrightarrow}
\newcommand{\mstepsto}{\longrightarrow^*}
\newcommand{\evalsto}{\Downarrow}



\newcommand{\prop}{\varphi}
\newcommand{\stateform}{\alpha}
\newcommand{\ef}{\m{EF}}
\newcommand{\eu}{\m{EU}}
\newcommand{\eg}{\m{EG}}
\newcommand{\ex}{\m{EX}}
\newcommand{\af}{\m{AF}}
\newcommand{\ag}{\m{AG}}
\newcommand{\ax}{\m{AX}}
\newcommand{\au}{\m{AU}}

\newcommand{\seclevel}{\ell}
\newcommand{\divergence}{d}
\newcommand{\lpair}[2]{\langle #1, #2 \rangle}
\newcommand{\ddiv}{\mathsf{mdiv}}
\newcommand{\dunif}{\mathsf{unif}}
\newcommand{\ljoin}{\sqcup}
\newcommand{\secle}{\sqsubseteq}

%% proofs
\newcommand{\ee}{\mathcal{E}}
\newcommand{\eff}{\mathcal{E}_\mathit{ff}}
\newcommand{\de}{\mathcal{D}}

\newcommand{\ifttt}[0]{IFTTT\xspace} % {$\mathit{IFTTT}$}

\usepackage{eqparbox}
\newdimen{\algindent}
\setlength\algindent{1.5em}
\algnewcommand\LeftComment[2]{%
\hspace{#1\algindent}$\triangleright$ \eqparbox{COMMENT}{#2} \hfill %
}

\algnewcommand\algorithmicforeach{\textbf{for each}}
\algdef{S}[FOR]{ForEach}[1]{\algorithmicforeach\ #1\ \algorithmicdo}
% \floatname{algorithm}{Procedure}
% \renewcommand{\algorithmicrequire}{\textbf{Input:}}
% \renewcommand{\algorithmicensure}{\textbf{Output:}}

\newtheorem{property}{Property}
\newtheorem{theorem}{Theorem}

\renewcommand{\paragraph}[1]{\vspace{1ex}\noindent{\bf #1}}
%% comments
% turn off comments by uncommenting the following command and
% commenting out the second notes command
% \newcommand{\notes}[2]{}
% turn on comments by commenting out the previous note command and
% uncommenting the following command
\newcommand{\notes}[2]{{\bf\textsf{\textcolor{#1}{#2}}}}
\newcommand{\stefan}[1]{\notes{magenta}{stefan says: #1}}
\newcommand{\todo}[1]{\notes{red}{TODO: #1}}
\newcommand{\farzaneh}[1]{\notes{blue}{Farzaneh says: #1}}


%% Tasks

%% \newcounter{mydefcounter}
%% \renewcommand{\themydefcounter}{\arabic{section}.\arabic{subsection}.\arabic{mydefcounter}}
%% \newcommand{\mydef}[1]{\refstepcounter{mydefcounter}\label{#1}\themydefcounter}

\newcommand{\secref}[1]{Section~\ref{#1}}


\newcounter{tasknmbr}
\newcounter{subtasknmbr}[tasknmbr]
\renewcommand{\thesubtasknmbr}{\arabic{tasknmbr}-\alph{subtasknmbr}}
\newcommand{\newtask}[1]{\refstepcounter{tasknmbr}\label{#1}}
\newcommand{\newsubtask}[1]{\refstepcounter{subtasknmbr}\label{#1}} %\thesubtasknmbr}
\newcommand{\taskref}[1]{Thrust~\ref{#1}}

%% \newcounter{tasknmbr}[subsection]
%% \newcounter{tasklabel}
%% \renewcommand{\thetasklabel}{\arabic{subsection}-\thetasknmbr}
%% \newenvironment{task}{\begin{list}{\textbf{Task \thetasklabel}:}{\usecounter{tasklabel}\stepcounter{tasknmbr}\setlength{\labelwidth}{\widthof{\textbf{Task X-X}}}\setlength{\leftmargin}{5em}\item\em}}{\\[-7pt]\end{list}}

%%% IFC system

\newcommand{\kw}[1]{\ensuremath{\mathsf{#1}}}
\newcommand{\kwif}[3]{\ensuremath{\kw{if}~#1~\kw{then}~#2~\kw{else}~#3~\kw{fi}}}
\newcommand{\kwwhile}[2]{\ensuremath{\kw{while}~#1~\kw{do}~#2~\kw{od}}}
\newcommand{\securitytype}[2]{\ensuremath{#1_#2}}
\newcommand{\Rule}[4][]{\ensuremath{\inferrule*[right={(#2)},#1]{#3}{#4}}}
\newcommand{\pair}[2]{\ensuremath{\langle #1, #2 \rangle}}
\newcommand{\suffix}[2]{{#1}_{#2}}

\newcommand{\typed}[4]{\ensuremath{#1, #2 \vdash #3 : #4}}
\newcommand{\typednotype}[3]{\ensuremath{#1, #2 \vdash #3}}

\newcommand{\kwarr}[2]{#1 \rightarrow #2}
\newcommand{\kwprod}[2]{#1 \times #2}
\newcommand{\kwseq}[2]{\ensuremath{#1 ; #2}}

\newcommand{\Type}[1]{\ensuremath{~\mathsf{Type(#1)}}}
\newcommand{\unif}{\ensuremath{~\mathsf{unif}}}
\newcommand{\diverge}{\ensuremath{~\mathsf{div}}}
\newcommand{\slsingle}{\ensuremath{~\mathsf{l}}}
\newcommand{\slmultiple}[2]{\ensuremath{~\mathsf{{#1}_{#2}}}}
\newcommand{\pc}{\ensuremath{~\mathsf{pc}}}

\lstset{
  language=C,
  basicstyle=\ttfamily
}
